<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>CSS-13-投票-7重写</title>
		<meta name="viewport" content="
		width=device-width,initial-scale=1.0,user-scalable=no
		"/>
		
		<link rel="stylesheet" href="base.css">
		<link rel="stylesheet/less" type="text/css" href="vote.less" />
		<script src="//cdnjs.cloudflare.com/ajax/libs/less.js/3.10.0-beta/less.min.js" ></script>
	</head>
	<body>
        <header>
            <div class="h-top">
                <div class="img page2-01 top-img"></div>
                <span>投票</span>
                <div class="img page2-02 top-img"></div>
            </div>
            <div class="h-word">
                <div class="word">
                    <span>发言讨论结束，大家请投票</span>
                    <div class="audio-btn" id="audio-btn">
                        <div class="audio-btn-1">
                            <audio id="mp3"  src="财富自由.mp3"></audio>
                        </div>
                    </div>
                </div>
                <div class="header-triangle"></div>
                <div class="header-3">点击得票数最多人的头像</div>
            </div>
            
        </header>
        <main>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
            <div class="more">
                <div class="more__div">
                    <div class="more__div__name">水民</div>
                    <div class="more__div__number">1号</div>
                </div>
                <div class="more__img">
                    <img src="images/page2-04.png" class="more__img--hidden">
                </div>
            </div>
        </main>
        <footer>
            <button type="button" class="f-btn">
                <a href="result.html">投死</a>
            </button>
        </footer>
        
       <script src="jquery-3.4.1.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript">
            $(function(){
                // 播放完毕
                $('#mp3').on('ended', function() {
                    console.log("音频播放完毕");
                    $('#audio-btn>:first').attr('class','audio-btn-1');
                })
                // 播放
                var audio = document.getElementById('mp3');
                $('#audio-btn>:first').click(function() {
                    event.stopPropagation(); //防止冒泡
                    if(audio.paused){
                        $('#audio-btn>:first').attr('class','audio-btn-2');
                        audio.play();
                    }
                    else{
                        $('#audio-btn>:first').attr('class','audio-btn-1');
                        audio.pause();
                    }
                })
            })
        </script>
        
    </body>
</html>
